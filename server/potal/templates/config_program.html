<!DOCTYPE html>
<html>
    <head>
           <title>config progtammers</title>
		   <script src="{{STATIC_URL}}jquery.min.js"  ></script>
		   <style type="text/css">
		    #file_path
            {
			  width:100%;
			}
            #file_text
            {
			   width:100%;
			   height:100%;
			}
		   </style>
        </head>
        <body >
		   
		   <textarea id="file_path" rows="1" name="filepath">please input config file path!!</textarea> 
		   <hr/>
		   <button type="button" id='get_file' >getFile</button>
		   <button type="button" id='set_file' >setFile</button>
		   <hr/>
		    <textarea id="file_text" rows="80" name="text"></textarea> 
         <script>

		    function display_file(data){
			   $("#file_text").val(data)
			   console.log("display config file!!")
			   console.log(data)
			};

            function get_config_file(path){
			   console.log("get config file!!")
			   $.ajax({
				 type:"GET",
				 dataType:"json",
				 url:"/config_program/get_config_file/",
				 data:{path:path},
				 success: display_file,					   
			    });
			}
			  
            function set_config_file(text){
				$.ajax({
				 type:"POST",
				 dataType:"json",
				 url:"/config_program/set_config_file/",
				 data:{text:text},
				 success: display_file,				   
			    });	
			}

			$(document).ready(function(){
			   $("#file_text").val("")
               var filepath
			   $("#get_file").click(function(){ 
			      $("#file_text").val("")
                  filepath= $("#file_path").val()
			      console.log("get file button!!")
				  get_config_file(filepath) 
			    }); 
			   $("#set_file").click(function(){
			     var data2
				 data2=$("#file_text").val()
			     console.log(data2)
			     set_config_file(data2) 
			   }); 	 
		   });
         </script>
        </body>
    </html>
